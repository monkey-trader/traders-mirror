@startuml
' Custom components diagram for Traders Mirror
skinparam componentStyle rectangle

package "Presentation" {
  [TradeJournal] as TJ
  [ErrorMapper\nsrc/presentation/trade/errorMapper.ts] as ErrorMapper

  package "Shared Components" {
    [Button] as Btn
    [Icon] as Ic
  }
}

package "Application" {
  [TradeService] as TS
}

package "Domain" {
  [Trade Entity] as TradeEntity
  [Value Objects] as VOs
}

package "Infrastructure" {
  [InMemoryTradeRepository] as Repo
}

' Dependencies
TJ --> TS : uses
TJ --> Btn : composes / uses
TJ --> Ic : uses
TJ --> ErrorMapper : maps domain errors -> field messages
TS --> Repo : persists
TS --> TradeEntity : creates/validates
TradeEntity --> VOs : composes

' Component descriptions (notes)
note right of Btn
  Button component
  - Reusable UI element
  - Props: onClick, variant, size
  - Uses CSS Module: Button.module.css
end note

note right of Ic
  Icon component
  - SVG-based icons
  - Props: name, size, ariaLabel
  - Uses CSS Module: Icon.module.css
end note

' Add a small notes box for architecture
note right of TS
  Use-case orchestration
  (Application layer)
end note

note left of Repo
  Adapter/Repository
  (Infrastructure)
end note

@enduml
